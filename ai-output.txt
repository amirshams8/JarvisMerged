// ===== FILE: modules/automation/src/main/kotlin/com/jarvismini/automation/AppAutomationService.kt =====
package com.jarvismini.automation

import android.accessibilityservice.AccessibilityService
import android.util.Log
import android.view.accessibility.AccessibilityEvent
import android.widget.Toast

class AppAutomationService : AccessibilityService() {

    override fun onServiceConnected() {
        super.onServiceConnected()

        Log.e("JARVIS_PROOF", "ðŸ”¥ SERVICE CONNECTED")
        Toast.makeText(
            this,
            "JARVIS ACCESSIBILITY CONNECTED",
            Toast.LENGTH_LONG
        ).show()
    }

    override fun onAccessibilityEvent(event: AccessibilityEvent?) {
        Log.e("JARVIS_PROOF", "EVENT RECEIVED: ${event?.eventType}")
    }

    override fun onInterrupt() {
        Log.e("JARVIS_PROOF", "SERVICE INTERRUPTED")
    }
}
<!-- ===== FILE: app/src/main/AndroidManifest.xml ===== -->
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.jarvismini">

    <uses-permission android:name="android.permission.POST_NOTIFICATIONS"/>

    <application
        android:label="@string/app_name"
        android:icon="@android:drawable/sym_def_app_icon"
        android:allowBackup="true"
        android:supportsRtl="true"
        android:theme="@style/Theme.JarvisMini">

        <activity
            android:name=".MainActivity"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>

        <service
            android:name="com.jarvismini.automation.AppAutomationService"
            android:permission="android.permission.BIND_ACCESSIBILITY_SERVICE"
            android:exported="false">

            <intent-filter>
                <action android:name="android.accessibilityservice.AccessibilityService"/>
            </intent-filter>

            <meta-data
                android:name="android.accessibilityservice"
                android:resource="@xml/accessibility_service"/>
        </service>

    </application>
</manifest>
<!-- ===== FILE: app/src/main/res/xml/accessibility_service.xml ===== -->
<accessibility-service
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:accessibilityEventTypes="typeAllMask"
    android:accessibilityFeedbackType="feedbackGeneric"
    android:accessibilityFlags="flagReportViewIds|flagRetrieveInteractiveWindows"
    android:canRetrieveWindowContent="true"
    android:notificationTimeout="100"
    android:description="@string/service_desc"/>
<!-- ===== FILE: app/src/main/res/values/strings.xml ===== -->
<resources>
    <string name="app_name">Jarvis Merged</string>
    <string name="service_desc">Jarvis accessibility automation service</string>
</resources>
